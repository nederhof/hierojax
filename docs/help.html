<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>HieroJax editor help</title>
</head>
<body>

<h1>Manual of HieroJax Unicode Editor</h1>

<h2>Introductory examples</h2>

Groups are generally constructed from the bottom up, and from left to right
(or right to left, depending on the text direction).
One can use a combination of mouse clicks and keyboard input.
Starting with an empty encoding, after pressing <b>Clear</b>, an example is:
<ol>
<li> Type <b>l</b> (the lower-case letter 'ell') or click on <b>literal</b>, and type <tt>sw</tt> into the text field
<li> Type <b>-</b> (hyphen) or click on <b>append</b>
<li> Type <tt>t</tt>
<li> Type or click on <b>:</b>
<li> Type <tt>n</tt>
<li> Type <b>-</b> or click on <b>append</b>
<li> Type <tt>zA</tt>
<li> Press the Enter key and type <b>i</b>, or click on <b>insert</b>
<li> Type <tt>Z1</tt>
</ol>
Now the desired groups are visible in the preview panel, the internal
structure is represented in the tree panel, and the corresponding Unicode sequence is
in the text panel at the bottom of the page.
<p>
Next we want to move the ideogram marker (Z1) to the bottom right corner:
<ol>
<li> Press the Enter key and press arrow-left or click on the insertion icon
<li> Select <b>be</b> to indicate the place of insertion, or alternatively
press <tt>c</tt> until the place of insertion becomes <b>be</b>
</ol>
One can also enter an existing Unicode sequence into the text panel and press
<b>Parse</b>.

<h2>Structure of the page</h2>

The page is divided into:

<h3>Header</h3>

There are two drop-down lists for changing the fontsizes in the preview and
tree panels.
There are also buttons to undo or redo edit operations, and to open this help page.

<h3>Text direction panel</h3>

The panel for changing the text direction
is located in the top-left or top-right corner of the page, immediately next
to the preview panel.
One may select the desired text direction
by pressing one of the four relevant buttons.
The direction affects the view but not the encoding 
itself.

<h3>Preview panel</h3>

The preview panel presents a fragment in graphical form, as it would
appear to the reader of a printed document or web page.

<h3>Tree panel</h3>

The tree panel presents the fragment in an hierarchical form.
Nodes connected by edges represent expressions and their subexpressions.
<p>
In each fragment there is at most one group that is the current focus.
The focus is the target of edit operations.
In the tree panel, the focus is indicated by a thick blue boundary
around a node, as opposed to a thin gray boundary.
In the preview panel, the top-most group containing the current focus is
indicated by blue lines. The current focus can also be 
between two groups.
<p>
Top-level groups are separated by nodes labeled '<b>-</b>'. These are not part
of the encoding, but serve to make certain structural changes.
<p>
In the tree panel, the focus can be changed by clicking on a node.
In the preview panel, the root node of a top-level group can be
made the focus by clicking on that group.
Other ways to navigate rely on keyboard shortcuts, as explained further below.

<h3>Control panel</h3>

The control panel contains buttons for changing the structure of the fragment
and for changing the corners of insertions and other parameters.
Only those buttons are shown that are relevant to the current focus.

<h3>Text panel</h3>

The text panel contains the Unicode fragment. This fragment is updated every time
an edit is made, for example through the buttons in the control panel.
Alternatively, one can edit the text panel and press
<b>Parse</b>, which updates the preview and tree panels.
By pressing <b>Clear</b>, one obtains an empty fragment.
By pressing <b>Copy</b>, the encoding is copied to the clipboard, if you which
to include the encoding in another document.

<h2>Editing</h2>

<h3>Changing the structure</h3>

Depending on the current focus, the following buttons may be available to
change the structure of a fragment:
<ul>
<li> <b>literal</b> creates a new group initially consisting of a sign, or changes a
'blank' or 'lost' symbol into a sign.
<li> <b>blank</b> and <b>lost</b> and <b>singleton</b> similarly create 
new blanks, placeholders for lost signs and stand-alone enclosure caps.
<li> <b>append</b> creates a new group following the current group,
initially consisting of a single sign.
<li> <b>prepend</b> creates a new group preceding the current group.
<li> '<b>*</b>' generally appends a new subgroup of a horizontal group, 
initially consisting of a single sign.
If the current focus is another operator such as '<b>:</b>' however, 
then the two groups on either side are combined into a horizontal group.
<li> '<b>:</b>' behaves similarly, but for vertical groups.
<li> '<b>+</b>' and '<b>;</b>' can be used to insert a new subgroup
<em>before</em> the current focus, in a horizontal group
and vertical group, respectively.
<li> '<b>[</b>' and '<b>]</b>' add a bracket before or after a sign.
<li> <b>overlay</b> and <b>insert</b> generally create
a new element in the structure, of which the current focus becomes the
first argument; the second argument initially consists of a sign.
If the current focus is another operator such as '<b>:</b>' however, 
then the two groups on either side become the two arguments of an overlay or insert,
respectively.
<li> <b>enclosure</b> creates an enclosure around a previously created group.
Note that at least one group from among the enclosed groups must exist first before the
enclosure itself can be created.
<li> <b>swap</b> swaps the name of the current literal and that of
the next one.
<li> <b>delete</b> generally removes the node with the current focus. 
This may lead to further changes to preserve the integrity of the syntax.
Larger groups need to be deleted one element at a time. In order to delete a
literal preceded or followed by brackets, the brackets first need to be removed.
</ul>

<h3>Keyboard shortcuts</h3>

Use of the mouse can to a great extent be avoided by keyboard shortcuts.
The four arrow keys can be used to move the focus in the tree panel.
The <b>Home</b> and <b>End</b> keys transfer the focus to the first and last
top-level group, respectively.
<p>
Buttons that change the structure of groups
can be activated by entering characters such as
'<b>*</b>', '<b>:</b>',
the <b>Delete</b> key for <b>delete</b>, 
'<b>b</b>' for <b>blank</b>, etc.
(See the letters on the buttons that are underlined.)
For signs, '<b>d</b>' makes a sign 'damaged', '<b>m</b>' makes it
mirrored, and '<b>r</b>' chooses the next rotation.
For insertions, '<b>c</b>' selects the next available place,
for lost signs, '<b>x</b>' toggles the expansion, etc.
<p>
The above keyboard shortcuts will work if the browser's focus is 
on the preview or tree panels, which is indicated by a blue dotted border
around the preview or tree panels.
<p>
If the browser's focus is in the text field of a literal, it can be transferred to the tree panel
by pressing Enter. Conversely, if the browser's focus is in the preview or
tree panel, and the editor's focus is on a literal, then the browser's focus
can be transferred to the name field by pressing the space bar.
<p>
The name of a sign can be entered as a 'Gardiner name', or for some signs as a
'mnemonic', as for example <tt>sw</tt> in place of <tt>M23</tt>.
After typing the name of a sign, typing <tt>-</tt> (hyphen) is the same as
pressing <b>append</b>; similarly one may type <tt>*</tt>, <tt>:</tt>,
<tt>+</tt>, <tt>;</tt>.

<h2>Sign chooser</h2>

The following is relevant when the editor's focus is on a sign (literal).
<p>
The menu of signs is activated by clicking <b>menu</b>, or by entering
'<b>u</b>' when the browser's focus is on the preview or tree panels, or
by entering '<b>u</b>' into an otherwise empty name field.
<p>
By clicking the tabs at the top of the window, one may view categories of
signs according to Gardiner's sign list. Three extra tabs show collections
of signs according to shape. 
Alternatively, one may navigate through the tabs
using the four arrow keys. 
A sign is selected by clicking on it.
<p>
One may also type the name of a sign, by keyboard presses of letters and digits
(there is no need for the <b>Shift</b> key). The name will appear in the 
upper left corner.
After entering the first letter (or the first two letters for 'NL', 'NU',
'Aa'), signs in the relevant category will appear.
One may then type the remaining digits, and possibly more letters, 
and press <b>Enter</b> to select the sign.
Typed characters can be erased by pressing <b>Backspace</b>;
this is not needed for switching between categories however:
by pressing '<b>a</b>', then then '<b>b</b>', 
one switches from category 'A' directly to category 'B'.
By pressing <b>Esc</b>, or by clicking on the upper right corner of the menu, 
one exits the sign chooser without having selected a sign.
<p>
Information on signs can be obtained by clicking <b>info on</b> and moving the 
mouse over a sign. 
Alternatively, this functionality can be switched on/off by pressing the space bar.
The information is presented in the right or left half of the 
screen if the mouse moves over a sign in the left or right half, respectively.
<p>
In the sign menu, one can search for signs on the basis of their transliteration. A keyboard shortcut to
select the <b>transliteration</b> tab is to press '<b>?</b>'.
One can then type letters in the usual MdC
alphabet (such as <b>A</b> for aleph, ...), and typed characters can be erased by
pressing <b>Backspace</b>.
The first sign matching the transliteration is highlighted. Press arrow-right
to highlight the next such sign. By pressing Enter, the sign that is highlighted will be selected.

</body>
</html>
