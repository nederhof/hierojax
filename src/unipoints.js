const uniGlyphs = {
A1:0x13000,
A2:0x13001,
A3:0x13002,
A4:0x13003,
A5:0x13004,
A5a:0x13005,
A6:0x13006,
A6a:0x13007,
A6b:0x13008,
A7:0x13009,
A8:0x1300A,
A9:0x1300B,
A10:0x1300C,
A11:0x1300D,
A12:0x1300E,
A13:0x1300F,
A14:0x13010,
A14a:0x13011,
A15:0x13012,
A16:0x13013,
A17:0x13014,
A17a:0x13015,
A18:0x13016,
A19:0x13017,
A20:0x13018,
A21:0x13019,
A22:0x1301A,
A23:0x1301B,
A24:0x1301C,
A25:0x1301D,
A26:0x1301E,
A27:0x1301F,
A28:0x13020,
A29:0x13021,
A30:0x13022,
A31:0x13023,
A32:0x13024,
A32a:0x13025,
A33:0x13026,
A34:0x13027,
A35:0x13028,
A36:0x13029,
A37:0x1302A,
A38:0x1302B,
A39:0x1302C,
A40:0x1302D,
A40a:0x1302E,
A41:0x1302F,
A42:0x13030,
A42a:0x13031,
A43:0x13032,
A43a:0x13033,
A44:0x13034,
A45:0x13035,
A45a:0x13036,
A46:0x13037,
A47:0x13038,
A48:0x13039,
A49:0x1303A,
A50:0x1303B,
A51:0x1303C,
A52:0x1303D,
A53:0x1303E,
A54:0x1303F,
A55:0x13040,
A56:0x13041,
A57:0x13042,
A58:0x13043,
A59:0x13044,
A60:0x13045,
A61:0x13046,
A62:0x13047,
A63:0x13048,
A64:0x13049,
A65:0x1304A,
A66:0x1304B,
A67:0x1304C,
A68:0x1304D,
A69:0x1304E,
A70:0x1304F,
B1:0x13050,
B2:0x13051,
B3:0x13052,
B4:0x13053,
B5:0x13054,
B5a:0x13055,
B6:0x13056,
B7:0x13057,
B8:0x13058,
B9:0x13059,
C1:0x1305A,
C2:0x1305B,
C2a:0x1305C,
C2b:0x1305D,
C2c:0x1305E,
C3:0x1305F,
C4:0x13060,
C5:0x13061,
C6:0x13062,
C7:0x13063,
C8:0x13064,
C9:0x13065,
C10:0x13066,
C10a:0x13067,
C11:0x13068,
C12:0x13069,
C13:0x1306A,
C14:0x1306B,
C15:0x1306C,
C16:0x1306D,
C17:0x1306E,
C18:0x1306F,
C19:0x13070,
C20:0x13071,
C21:0x13072,
C22:0x13073,
C23:0x13074,
C24:0x13075,
D1:0x13076,
D2:0x13077,
D3:0x13078,
D4:0x13079,
D5:0x1307A,
D6:0x1307B,
D7:0x1307C,
D8:0x1307D,
D8a:0x1307E,
D9:0x1307F,
D10:0x13080,
D11:0x13081,
D12:0x13082,
D13:0x13083,
D14:0x13084,
D15:0x13085,
D16:0x13086,
D17:0x13087,
D18:0x13088,
D19:0x13089,
D20:0x1308A,
D21:0x1308B,
D22:0x1308C,
D23:0x1308D,
D24:0x1308E,
D25:0x1308F,
D26:0x13090,
D27:0x13091,
D27a:0x13092,
D28:0x13093,
D29:0x13094,
D30:0x13095,
D31:0x13096,
D31a:0x13097,
D32:0x13098,
D33:0x13099,
D34:0x1309A,
D34a:0x1309B,
D35:0x1309C,
D36:0x1309D,
D37:0x1309E,
D38:0x1309F,
D39:0x130A0,
D40:0x130A1,
D41:0x130A2,
D42:0x130A3,
D43:0x130A4,
D44:0x130A5,
D45:0x130A6,
D46:0x130A7,
D46a:0x130A8,
D47:0x130A9,
D48:0x130AA,
D48a:0x130AB,
D49:0x130AC,
D50:0x130AD,
D50a:0x130AE,
D50b:0x130AF,
D50c:0x130B0,
D50d:0x130B1,
D50e:0x130B2,
D50f:0x130B3,
D50g:0x130B4,
D50h:0x130B5,
D50i:0x130B6,
D51:0x130B7,
D52:0x130B8,
D52a:0x130B9,
D53:0x130BA,
D54:0x130BB,
D54a:0x130BC,
D55:0x130BD,
D56:0x130BE,
D57:0x130BF,
D58:0x130C0,
D59:0x130C1,
D60:0x130C2,
D61:0x130C3,
D62:0x130C4,
D63:0x130C5,
D64:0x130C6,
D65:0x130C7,
D66:0x130C8,
D67:0x130C9,
D67a:0x130CA,
D67b:0x130CB,
D67c:0x130CC,
D67d:0x130CD,
D67e:0x130CE,
D67f:0x130CF,
D67g:0x130D0,
D67h:0x130D1,
E1:0x130D2,
E2:0x130D3,
E3:0x130D4,
E4:0x130D5,
E5:0x130D6,
E6:0x130D7,
E7:0x130D8,
E8:0x130D9,
E8a:0x130DA,
E9:0x130DB,
E9a:0x130DC,
E10:0x130DD,
E11:0x130DE,
E12:0x130DF,
E13:0x130E0,
E14:0x130E1,
E15:0x130E2,
E16:0x130E3,
E16a:0x130E4,
E17:0x130E5,
E17a:0x130E6,
E18:0x130E7,
E19:0x130E8,
E20:0x130E9,
E20a:0x130EA,
E21:0x130EB,
E22:0x130EC,
E23:0x130ED,
E24:0x130EE,
E25:0x130EF,
E26:0x130F0,
E27:0x130F1,
E28:0x130F2,
E28a:0x130F3,
E29:0x130F4,
E30:0x130F5,
E31:0x130F6,
E32:0x130F7,
E33:0x130F8,
E34:0x130F9,
E34a:0x130FA,
E36:0x130FB,
E37:0x130FC,
E38:0x130FD,
F1:0x130FE,
F1a:0x130FF,
F2:0x13100,
F3:0x13101,
F4:0x13102,
F5:0x13103,
F6:0x13104,
F7:0x13105,
F8:0x13106,
F9:0x13107,
F10:0x13108,
F11:0x13109,
F12:0x1310A,
F13:0x1310B,
F13a:0x1310C,
F14:0x1310D,
F15:0x1310E,
F16:0x1310F,
F17:0x13110,
F18:0x13111,
F19:0x13112,
F20:0x13113,
F21:0x13114,
F21a:0x13115,
F22:0x13116,
F23:0x13117,
F24:0x13118,
F25:0x13119,
F26:0x1311A,
F27:0x1311B,
F28:0x1311C,
F29:0x1311D,
F30:0x1311E,
F31:0x1311F,
F31a:0x13120,
F32:0x13121,
F33:0x13122,
F34:0x13123,
F35:0x13124,
F36:0x13125,
F37:0x13126,
F37a:0x13127,
F38:0x13128,
F38a:0x13129,
F39:0x1312A,
F40:0x1312B,
F41:0x1312C,
F42:0x1312D,
F43:0x1312E,
F44:0x1312F,
F45:0x13130,
F45a:0x13131,
F46:0x13132,
F46a:0x13133,
F47:0x13134,
F47a:0x13135,
F48:0x13136,
F49:0x13137,
F50:0x13138,
F51:0x13139,
F51a:0x1313A,
F51b:0x1313B,
F51c:0x1313C,
F52:0x1313D,
F53:0x1313E,
G1:0x1313F,
G2:0x13140,
G3:0x13141,
G4:0x13142,
G5:0x13143,
G6:0x13144,
G6a:0x13145,
G7:0x13146,
G7a:0x13147,
G7b:0x13148,
G8:0x13149,
G9:0x1314A,
G10:0x1314B,
G11:0x1314C,
G11a:0x1314D,
G12:0x1314E,
G13:0x1314F,
G14:0x13150,
G15:0x13151,
G16:0x13152,
G17:0x13153,
G18:0x13154,
G19:0x13155,
G20:0x13156,
G20a:0x13157,
G21:0x13158,
G22:0x13159,
G23:0x1315A,
G24:0x1315B,
G25:0x1315C,
G26:0x1315D,
G26a:0x1315E,
G27:0x1315F,
G28:0x13160,
G29:0x13161,
G30:0x13162,
G31:0x13163,
G32:0x13164,
G33:0x13165,
G34:0x13166,
G35:0x13167,
G36:0x13168,
G36a:0x13169,
G37:0x1316A,
G37a:0x1316B,
G38:0x1316C,
G39:0x1316D,
G40:0x1316E,
G41:0x1316F,
G42:0x13170,
G43:0x13171,
G43a:0x13172,
G44:0x13173,
G45:0x13174,
G45a:0x13175,
G46:0x13176,
G47:0x13177,
G48:0x13178,
G49:0x13179,
G50:0x1317A,
G51:0x1317B,
G52:0x1317C,
G53:0x1317D,
G54:0x1317E,
H1:0x1317F,
H2:0x13180,
H3:0x13181,
H4:0x13182,
H5:0x13183,
H6:0x13184,
H6a:0x13185,
H7:0x13186,
H8:0x13187,
I1:0x13188,
I2:0x13189,
I3:0x1318A,
I4:0x1318B,
I5:0x1318C,
I5a:0x1318D,
I6:0x1318E,
I7:0x1318F,
I8:0x13190,
I9:0x13191,
I9a:0x13192,
I10:0x13193,
I10a:0x13194,
I11:0x13195,
I11a:0x13196,
I12:0x13197,
I13:0x13198,
I14:0x13199,
I15:0x1319A,
K1:0x1319B,
K2:0x1319C,
K3:0x1319D,
K4:0x1319E,
K5:0x1319F,
K6:0x131A0,
K7:0x131A1,
K8:0x131A2,
L1:0x131A3,
L2:0x131A4,
L2a:0x131A5,
L3:0x131A6,
L4:0x131A7,
L5:0x131A8,
L6:0x131A9,
L6a:0x131AA,
L7:0x131AB,
L8:0x131AC,
M1:0x131AD,
M1a:0x131AE,
M1b:0x131AF,
M2:0x131B0,
M3:0x131B1,
M3a:0x131B2,
M4:0x131B3,
M5:0x131B4,
M6:0x131B5,
M7:0x131B6,
M8:0x131B7,
M9:0x131B8,
M10:0x131B9,
M10a:0x131BA,
M11:0x131BB,
M12:0x131BC,
M12a:0x131BD,
M12b:0x131BE,
M12c:0x131BF,
M12d:0x131C0,
M12e:0x131C1,
M12f:0x131C2,
M12g:0x131C3,
M12h:0x131C4,
M13:0x131C5,
M14:0x131C6,
M15:0x131C7,
M15a:0x131C8,
M16:0x131C9,
M16a:0x131CA,
M17:0x131CB,
M17a:0x131CC,
M18:0x131CD,
M19:0x131CE,
M20:0x131CF,
M21:0x131D0,
M22:0x131D1,
M22a:0x131D2,
M23:0x131D3,
M24:0x131D4,
M24a:0x131D5,
M25:0x131D6,
M26:0x131D7,
M27:0x131D8,
M28:0x131D9,
M28a:0x131DA,
M29:0x131DB,
M30:0x131DC,
M31:0x131DD,
M31a:0x131DE,
M32:0x131DF,
M33:0x131E0,
M33a:0x131E1,
M33b:0x131E2,
M34:0x131E3,
M35:0x131E4,
M36:0x131E5,
M37:0x131E6,
M38:0x131E7,
M39:0x131E8,
M40:0x131E9,
M40a:0x131EA,
M41:0x131EB,
M42:0x131EC,
M43:0x131ED,
M44:0x131EE,
N1:0x131EF,
N2:0x131F0,
N3:0x131F1,
N4:0x131F2,
N5:0x131F3,
N6:0x131F4,
N7:0x131F5,
N8:0x131F6,
N9:0x131F7,
N10:0x131F8,
N11:0x131F9,
N12:0x131FA,
N13:0x131FB,
N14:0x131FC,
N15:0x131FD,
N16:0x131FE,
N17:0x131FF,
N18:0x13200,
N18a:0x13201,
N18b:0x13202,
N19:0x13203,
N20:0x13204,
N21:0x13205,
N22:0x13206,
N23:0x13207,
N24:0x13208,
N25:0x13209,
N25a:0x1320A,
N26:0x1320B,
N27:0x1320C,
N28:0x1320D,
N29:0x1320E,
N30:0x1320F,
N31:0x13210,
N32:0x13211,
N33:0x13212,
N33a:0x13213,
N34:0x13214,
N34a:0x13215,
N35:0x13216,
N35a:0x13217,
N36:0x13218,
N37:0x13219,
N37a:0x1321A,
N38:0x1321B,
N39:0x1321C,
N40:0x1321D,
N41:0x1321E,
N42:0x1321F,
NL1:0x13220,
NL2:0x13221,
NL3:0x13222,
NL4:0x13223,
NL5:0x13224,
NL5a:0x13225,
NL6:0x13226,
NL7:0x13227,
NL8:0x13228,
NL9:0x13229,
NL10:0x1322A,
NL11:0x1322B,
NL12:0x1322C,
NL13:0x1322D,
NL14:0x1322E,
NL15:0x1322F,
NL16:0x13230,
NL17:0x13231,
NL17a:0x13232,
NL18:0x13233,
NL19:0x13234,
NL20:0x13235,
NU1:0x13236,
NU2:0x13237,
NU3:0x13238,
NU4:0x13239,
NU5:0x1323A,
NU6:0x1323B,
NU7:0x1323C,
NU8:0x1323D,
NU9:0x1323E,
NU10:0x1323F,
NU10a:0x13240,
NU11:0x13241,
NU11a:0x13242,
NU12:0x13243,
NU13:0x13244,
NU14:0x13245,
NU15:0x13246,
NU16:0x13247,
NU17:0x13248,
NU18:0x13249,
NU18a:0x1324A,
NU19:0x1324B,
NU20:0x1324C,
NU21:0x1324D,
NU22:0x1324E,
NU22a:0x1324F,
O1:0x13250,
O1a:0x13251,
O2:0x13252,
O3:0x13253,
O4:0x13254,
O5:0x13255,
O5a:0x13256,
O6:0x13257,
O7:0x1325E,
O8:0x1325F,
O9:0x13260,
O10:0x13261,
O10a:0x13262,
O10b:0x13263,
O10c:0x13264,
O11:0x13265,
O12:0x13266,
O13:0x13267,
O14:0x13268,
O15:0x13269,
O16:0x1326A,
O17:0x1326B,
O18:0x1326C,
O19:0x1326D,
O19a:0x1326E,
O20:0x1326F,
O20a:0x13270,
O21:0x13271,
O22:0x13272,
O23:0x13273,
O24:0x13274,
O24a:0x13275,
O25:0x13276,
O25a:0x13277,
O26:0x13278,
O27:0x13279,
O28:0x1327A,
O29:0x1327B,
O29a:0x1327C,
O30:0x1327D,
O30a:0x1327E,
O31:0x1327F,
O32:0x13280,
O33:0x13281,
O34:0x13283,
O35:0x13284,
O36:0x13285,
O37:0x1328A,
O38:0x1328B,
O39:0x1328C,
O40:0x1328D,
O41:0x1328E,
O42:0x1328F,
O43:0x13290,
O44:0x13291,
O45:0x13292,
O46:0x13293,
O47:0x13294,
O48:0x13295,
O49:0x13296,
O50:0x13297,
O50a:0x13298,
O50b:0x13299,
O51:0x1329A,
P1:0x1329B,
P1a:0x1329C,
P2:0x1329D,
P3:0x1329E,
P3a:0x1329F,
P4:0x132A0,
P5:0x132A1,
P6:0x132A2,
P7:0x132A3,
P8:0x132A4,
P9:0x132A5,
P10:0x132A6,
P11:0x132A7,
Q1:0x132A8,
Q2:0x132A9,
Q3:0x132AA,
Q4:0x132AB,
Q5:0x132AC,
Q6:0x132AD,
Q7:0x132AE,
R1:0x132AF,
R2:0x132B0,
R2a:0x132B1,
R3:0x132B2,
R3a:0x132B3,
R3b:0x132B4,
R4:0x132B5,
R5:0x132B6,
R6:0x132B7,
R7:0x132B8,
R8:0x132B9,
R9:0x132BA,
R10:0x132BB,
R10a:0x132BC,
R11:0x132BD,
R12:0x132BE,
R13:0x132BF,
R14:0x132C0,
R15:0x132C1,
R16:0x132C2,
R16a:0x132C3,
R17:0x132C4,
R18:0x132C5,
R19:0x132C6,
R20:0x132C7,
R21:0x132C8,
R22:0x132C9,
R23:0x132CA,
R24:0x132CB,
R25:0x132CC,
R26:0x132CD,
R27:0x132CE,
R28:0x132CF,
R29:0x132D0,
S1:0x132D1,
S2:0x132D2,
S2a:0x132D3,
S3:0x132D4,
S4:0x132D5,
S5:0x132D6,
S6:0x132D7,
S6a:0x132D8,
S7:0x132D9,
S8:0x132DA,
S9:0x132DB,
S10:0x132DC,
S11:0x132DD,
S12:0x132DE,
S13:0x132DF,
S14:0x132E0,
S14a:0x132E1,
S14b:0x132E2,
S15:0x132E3,
S16:0x132E4,
S17:0x132E5,
S17a:0x132E6,
S18:0x132E7,
S19:0x132E8,
S20:0x132E9,
S21:0x132EA,
S22:0x132EB,
S23:0x132EC,
S24:0x132ED,
S25:0x132EE,
S26:0x132EF,
S26a:0x132F0,
S26b:0x132F1,
S27:0x132F2,
S28:0x132F3,
S29:0x132F4,
S30:0x132F5,
S31:0x132F6,
S32:0x132F7,
S33:0x132F8,
S34:0x132F9,
S35:0x132FA,
S35a:0x132FB,
S36:0x132FC,
S37:0x132FD,
S38:0x132FE,
S39:0x132FF,
S40:0x13300,
S41:0x13301,
S42:0x13302,
S43:0x13303,
S44:0x13304,
S45:0x13305,
S46:0x13306,
T1:0x13307,
T2:0x13308,
T3:0x13309,
T3a:0x1330A,
T4:0x1330B,
T5:0x1330C,
T6:0x1330D,
T7:0x1330E,
T7a:0x1330F,
T8:0x13310,
T8a:0x13311,
T9:0x13312,
T9a:0x13313,
T10:0x13314,
T11:0x13315,
T11a:0x13316,
T12:0x13317,
T13:0x13318,
T14:0x13319,
T15:0x1331A,
T16:0x1331B,
T16a:0x1331C,
T17:0x1331D,
T18:0x1331E,
T19:0x1331F,
T20:0x13320,
T21:0x13321,
T22:0x13322,
T23:0x13323,
T24:0x13324,
T25:0x13325,
T26:0x13326,
T27:0x13327,
T28:0x13328,
T29:0x13329,
T30:0x1332A,
T31:0x1332B,
T32:0x1332C,
T32a:0x1332D,
T33:0x1332E,
T33a:0x1332F,
T34:0x13330,
T35:0x13331,
T36:0x13332,
U1:0x13333,
U2:0x13334,
U3:0x13335,
U4:0x13336,
U5:0x13337,
U6:0x13338,
U6a:0x13339,
U6b:0x1333A,
U7:0x1333B,
U8:0x1333C,
U9:0x1333D,
U10:0x1333E,
U11:0x1333F,
U12:0x13340,
U13:0x13341,
U14:0x13342,
U15:0x13343,
U16:0x13344,
U17:0x13345,
U18:0x13346,
U19:0x13347,
U20:0x13348,
U21:0x13349,
U22:0x1334A,
U23:0x1334B,
U23a:0x1334C,
U24:0x1334D,
U25:0x1334E,
U26:0x1334F,
U27:0x13350,
U28:0x13351,
U29:0x13352,
U29a:0x13353,
U30:0x13354,
U31:0x13355,
U32:0x13356,
U32a:0x13357,
U33:0x13358,
U34:0x13359,
U35:0x1335A,
U36:0x1335B,
U37:0x1335C,
U38:0x1335D,
U39:0x1335E,
U40:0x1335F,
U41:0x13360,
U42:0x13361,
V1:0x13362,
V1a:0x13363,
V1b:0x13364,
V1c:0x13365,
V1d:0x13366,
V1e:0x13367,
V1f:0x13368,
V1g:0x13369,
V1h:0x1336A,
V1i:0x1336B,
V2:0x1336C,
V2a:0x1336D,
V3:0x1336E,
V4:0x1336F,
V5:0x13370,
V6:0x13371,
V7:0x13372,
V7a:0x13373,
V7b:0x13374,
V8:0x13375,
V9:0x13376,
V10:0x13377,
V11:0x13378,
V12:0x1337C,
V12a:0x1337D,
V12b:0x1337E,
V13:0x1337F,
V14:0x13380,
V15:0x13381,
V16:0x13382,
V17:0x13383,
V18:0x13384,
V19:0x13385,
V20:0x13386,
V20a:0x13387,
V20b:0x13388,
V20c:0x13389,
V20d:0x1338A,
V20e:0x1338B,
V20f:0x1338C,
V20g:0x1338D,
V20h:0x1338E,
V20i:0x1338F,
V20j:0x13390,
V20k:0x13391,
V20l:0x13392,
V21:0x13393,
V22:0x13394,
V23:0x13395,
V23a:0x13396,
V24:0x13397,
V25:0x13398,
V26:0x13399,
V27:0x1339A,
V28:0x1339B,
V28a:0x1339C,
V29:0x1339D,
V29a:0x1339E,
V30:0x1339F,
V30a:0x133A0,
V31:0x133A1,
V31a:0x133A2,
V32:0x133A3,
V33:0x133A4,
V33a:0x133A5,
V34:0x133A6,
V35:0x133A7,
V36:0x133A8,
V37:0x133A9,
V37a:0x133AA,
V38:0x133AB,
V39:0x133AC,
V40:0x133AD,
V40a:0x133AE,
W1:0x133AF,
W2:0x133B0,
W3:0x133B1,
W3a:0x133B2,
W4:0x133B3,
W5:0x133B4,
W6:0x133B5,
W7:0x133B6,
W8:0x133B7,
W9:0x133B8,
W9a:0x133B9,
W10:0x133BA,
W10a:0x133BB,
W11:0x133BC,
W12:0x133BD,
W13:0x133BE,
W14:0x133BF,
W14a:0x133C0,
W15:0x133C1,
W16:0x133C2,
W17:0x133C3,
W17a:0x133C4,
W18:0x133C5,
W18a:0x133C6,
W19:0x133C7,
W20:0x133C8,
W21:0x133C9,
W22:0x133CA,
W23:0x133CB,
W24:0x133CC,
W24a:0x133CD,
W25:0x133CE,
X1:0x133CF,
X2:0x133D0,
X3:0x133D1,
X4:0x133D2,
X4a:0x133D3,
X4b:0x133D4,
X5:0x133D5,
X6:0x133D6,
X6a:0x133D7,
X7:0x133D8,
X8:0x133D9,
X8a:0x133DA,
Y1:0x133DB,
Y1a:0x133DC,
Y2:0x133DD,
Y3:0x133DE,
Y4:0x133DF,
Y5:0x133E0,
Y6:0x133E1,
Y7:0x133E2,
Y8:0x133E3,
Z1:0x133E4,
Z2:0x133E5,
Z2a:0x133E6,
Z2b:0x133E7,
Z2c:0x133E8,
Z2d:0x133E9,
Z3:0x133EA,
Z3a:0x133EB,
Z3b:0x133EC,
Z4:0x133ED,
Z4a:0x133EE,
Z5:0x133EF,
Z5a:0x133F0,
Z6:0x133F1,
Z7:0x133F2,
Z8:0x133F3,
Z9:0x133F4,
Z10:0x133F5,
Z11:0x133F6,
Z12:0x133F7,
Z13:0x133F8,
Z14:0x133F9,
Z15:0x133FA,
Z15a:0x133FB,
Z15b:0x133FC,
Z15c:0x133FD,
Z15d:0x133FE,
Z15e:0x133FF,
Z15f:0x13400,
Z15g:0x13401,
Z15h:0x13402,
Z15i:0x13403,
Z16:0x13404,
Z16a:0x13405,
Z16b:0x13406,
Z16c:0x13407,
Z16d:0x13408,
Z16e:0x13409,
Z16f:0x1340A,
Z16g:0x1340B,
Z16h:0x1340C,
Aa1:0x1340D,
Aa2:0x1340E,
Aa3:0x1340F,
Aa4:0x13410,
Aa5:0x13411,
Aa6:0x13412,
Aa7:0x13413,
Aa7a:0x13414,
Aa7b:0x13415,
Aa8:0x13416,
Aa9:0x13417,
Aa10:0x13418,
Aa11:0x13419,
Aa12:0x1341A,
Aa13:0x1341B,
Aa14:0x1341C,
Aa15:0x1341D,
Aa16:0x1341E,
Aa17:0x1341F,
Aa18:0x13420,
Aa19:0x13421,
Aa20:0x13422,
Aa21:0x13423,
Aa22:0x13424,
Aa23:0x13425,
Aa24:0x13426,
Aa25:0x13427,
Aa26:0x13428,
Aa27:0x13429,
Aa28:0x1342A,
Aa29:0x1342B,
Aa30:0x1342C,
Aa31:0x1342D,
Aa32:0x1342E};

const uniOpens = {
O6a:0x13258,
O6b:0x13259,
O6c:0x1325A,
O36a:0x13286,
O36c:0x13288,
V11a:0x13379,
V11d:0x1342F};
const uniCloses = {
O6d:0x1325B,
O6e:0x1325C,
O6f:0x1325D,
O33a:0x13282,
O36b:0x13287,
O36d:0x13289,
V11b:0x1337A,
V11c:0x1337B};

const uniControls = {
':':0x13430,
'*':0x13431,
'^st':0x13432,
'^sb':0x13433,
'^et':0x13434,
'^eb':0x13435,
'+':0x13436,
'(':0x13437,
')':0x13438};

const uniMnemonics = {
mSa:'A12',
xr:'A15',
Xrd:'A17',
sr:'A21',
mniw:'A33',
qiz:'A38',
iry:'A47',
Sps:'A50',
Spsi:'A51',
msi:'B3',
DHwty:'C3',
Xnmw:'C4',
inpw:'C6',
stX:'C7',
mnw:'C8',
mAat:'C10',
HH:'C11',
tp:'D1',
Hr:'D2',
Sny:'D3',
ir:'D4',
rmi:'D9',
wDAt:'D10',
fnD:'D19',
r:'D21',
rA:'D21',
spt:'D24',
spty:'D25',
mnD:'D27',
kA:'D28',
aHA:'D34',
a:'D36',
Dsr:'D45',
d:'D46',
Dba:'D50',
mt:'D52',
rd:'D56',
sbq:'D56',
gH:'D56',
gHs:'D56',
b:'D58',
ab:'D59',
wab:'D60',
sAH:'D61',
zzmt:'E6',
zAb:'E17',
mAi:'E22',
l:'E23',
rw:'E23',
Aby:'E24',
wn:'E34',
HAt:'F4',
SsA:'F5',
wsr:'F12',
wp:'F13',
db:'F16',
Hw:'F18',
bH:'F18',
ns:'F20',
idn:'F21',
msDr:'F21',
sDm:'F21',
DrD:'F21',
pH:'F22',
kfA:'F22',
xpS:'F23',
wHm:'F25',
Xn:'F26',
sti:'F29',
Sd:'F30',
ms:'F31',
X:'F32',
sd:'F33',
ib:'F34',
nfr:'F35',
zmA:'F36',
imAx:'F39',
Aw:'F40',
spr:'F42',
iwa:'F44',
isw:'F44',
pXr:'F46',
qAb:'F46',
A:'G1',
AA:'G2',
tyw:'G4',
mwt:'G14',
nbty:'G16',
m:'G17',
mm:'G18',
nH:'G21',
Db:'G22',
rxyt:'G23',
Ax:'G25',
dSr:'G27',
gm:'G28',
bA:'G29',
baHi:'G32',
aq:'G35',
wr:'G36',
gb:'G38',
zA:'G39',
pA:'G40',
xn:'G41',
wSA:'G42',
w:'G43',
ww:'G44',
mAw:'G46',
TA:'G47',
snD:'G54',
wSm:'H2',
pq:'H2',
pAq:'H3',
nr:'H4',
Sw:'H6',
aSA:'I1',
Styw:'I2',
mzH:'I3',
sbk:'I4',
sAq:'I5',
km:'I6',
Hfn:'I8',
f:'I9',
D:'I10',
DD:'I11',
in:'K1',
ad:'K3',
XA:'K4',
bz:'K5',
nSmt:'K6',
xpr:'L1',
bit:'L2',
srqt:'L7',
iAm:'M1',
Hn:'M2',
xt:'M3',
rnp:'M4',
tr:'M6',
SA:'M8',
zSn:'M9',
wdn:'M11',
xA:'M12',
wAD:'M13',
HA:'M16',
i:'M17',
ii:'M18',
sxt:'M20',
sm:'M21',
sw:'M23',
rsw:'M24',
Sma:'M26',
nDm:'M29',
bnr:'M30',
bdt:'M34',
Dr:'M36',
iz:'M40',
pt:'N1',
iAdt:'N4',
idt:'N4',
ra:'N5',
zw:'N5',
hrw:'N5',
Hnmmt:'N8',
pzD:'N9',
Abd:'N11',
iaH:'N11',
sbA:'N14',
dwA:'N14',
dwAt:'N15',
tA:'N16',
iw:'N18',
wDb:'N20',
spAt:'N24',
xAst:'N25',
Dw:'N26',
Axt:'N27',
xa:'N28',
q:'N29',
iAt:'N30',
n:'N35',
mw:'N35a',
S:'N37',
Sm:'N40',
id:'N41',
pr:'O1',
h:'O4',
Hwt:'O6',
aH:'O11',
wsxt:'O15',
kAr:'O18',
zH:'O22',
txn:'O25',
iwn:'O28',
aA:'O29',
zxnt:'O30',
z:'O34',
zb:'O35',
inb:'O36',
Szp:'O42',
ipt:'O45',
nxn:'O47',
niwt:'O49',
zp:'O50',
Snwt:'O51',
wHa:'P4',
nfw:'P5',
TAw:'P5',
aHa:'P6',
xrw:'P8',
st:'Q1',
wz:'Q2',
p:'Q3',
qrsw:'Q6',
xAwt:'R1',
xAt:'R1',
Htp:'R4',
kAp:'R5',
kp:'R5',
snTr:'R7',
nTr:'R8',
bd:'R9',
dd:'R11',
Dd:'R11',
imnt:'R14',
iAb:'R15',
wx:'R16',
xm:'R22',
HDt:'S1',
dSrt:'S3',
N:'S3',
sxmty:'S6',
xprS:'S7',
Atf:'S8',
Swty:'S9',
mDH:'S10',
wsx:'S11',
nbw:'S12',
tHn:'S15',
THn:'S15',
mnit:'S18',
sDAw:'S19',
xtm:'S20',
sT:'S22',
dmD:'S23',
Tz:'S24',
Sndyt:'S26',
mnxt:'S27',
s:'S29',
sf:'S30',
siA:'S32',
Tb:'S33',
anx:'S34',
Swt:'S35',
xw:'S37',
HqA:'S38',
awt:'S39',
wAs:'S40',
Dam:'S41',
abA:'S42',
xrp:'S42',
sxm:'S42',
md:'S43',
Ams:'S44',
nxxw:'S45',
HD:'T3',
HDD:'T6',
pd:'T9',
pD:'T10',
zin:'T11',
zwn:'T11',
sXr:'T11',
Ai:'T12',
Ar:'T12',
rwd:'T12',
rwD:'T12',
rs:'T13',
qmA:'T14',
wrrt:'T17',
Sms:'T18',
qs:'T19',
sn:'T22',
iH:'T24',
DbA:'T25',
Xr:'T28',
nmt:'T29',
sSm:'T31',
nm:'T34',
mA:'U1',
mr:'U6',
it:'U10',
HqAt:'U11',
hb:'U13',
Sna:'U13',
tm:'U15',
biA:'U16',
grg:'U17',
stp:'U21',
mnx:'U22',
Ab:'U23',
Hmt:'U24',
wbA:'U26',
DA:'U28',
rtH:'U31',
zmn:'U32',
ti:'U33',
xsf:'U34',
Hm:'U36',
mxAt:'U38',
'100':'V1',
sTA:'V2',
sTAw:'V3',
wA:'V4',
snT:'V5',
Ss:'V6',
Sn:'V7',
arq:'V12',
T:'V13',
iTi:'V15',
mDt:'V19',
XAr:'V19',
TmA:'V19',
'10':'V20',
mD:'V20',
mH:'V22',
wD:'V24',
aD:'V26',
H:'V28',
wAH:'V29',
sk:'V29',
nb:'V30',
k:'V31',
msn:'V32',
sSr:'V33',
idr:'V37',
bAs:'W2',
Hb:'W3',
Xnm:'W9',
iab:'W10',
nzt:'W11',
g:'W11',
Hz:'W14',
xnt:'W17',
mi:'W19',
Hnqt:'W22',
nw:'W24',
ini:'W25',
t:'X1',
rdi:'X8',
di:'X8',
mDAt:'Y1',
mnhd:'Y3',
zS:'Y3',
mn:'Y5',
ibA:'Y6',
zSSt:'Y8',
y:'Z4',
W:'Z7',
imi:'Z11',
x:'Aa1',
Hp:'Aa5',
qn:'Aa8',
mAa:'Aa11',
im:'Aa13',
gs:'Aa13',
M:'Aa13',
sA:'Aa17',
apr:'Aa20',
wDa:'Aa21',
nD:'Aa27',
qd:'Aa28',
Xkr:'Aa30'};

const uniGlyphsByShape = {
tall: [
'M40','Aa28','Aa29','P11','D16','T34','T35','U28',
'U29','U32','U33','S43','U36','T8','T8a','M13','M17',
'H6','H6a','M4','M12','S29','M29','M30','S37','R14',
'R15','R16','R17','P6','S40','R19','S41','F10',
'F11','F12','S38','S39','T14','T15','T13','Aa26',
'O30','Aa21','U39','F45','O44','Aa27','R8','R9',
'T7a','T3','T4','V24','V25','U23','S42',
'U34','S36','F28','U26','U27','U24','U25','Y8',
'F35','F36','U41','W19','P8','T22','T23','Z11',
'S44','Aa25','M44','V38','Aa31','Aa30','Aa20','V36',
'F31','M32','L7','V17','V18','S34','V39','Q7',
'T18','T19','T20','R21','R11','O28','O11','O36',
'Aa32','V28','V29'],
broad: [
'N1','N37','N38','N39','S32','N18','X4','X5',
'N17','N16','N20','Aa10','Aa11','Aa12','Aa13','Aa14',
'Aa15','N35','Aa8','Aa9','V26','V27','R24','W8',
'V32','Y1','Y2','R4','N11','N12','F42','D24',
'D25','D13','D15','F20','Z6','F33','T2','T7',
'F30','V22','V23','R5','R6','O34','V2','V3',
'S24','R22','R23','T11','O29','T1','T21','U20',
'U19','U21','D17','U31','T9','T9a','T10','F32',
'V13','V14','F46','F47','F48','F49','M11','U17',
'U18','U14','Aa7','F18','D51','U15','U16','Aa24',
'N31','O31','N36','D14','D21','D22','T30','T31',
'T33','D48','V30','V31','W3','S12','N30','O42',
'O43','V16'],
narrow: [
'Q3','O39','Z8','O47','N22','N21','N23','N29',
'X7','O45','O46','Y6','M35','X3','X2','X1',
'N28','Aa17','I6','W10','W10a','Aa4','R7','M39',
'M36','F43','F41','N34','U30','W11','W12','W13',
'T28','N41','N42','V37','M31','F34','W6','W7',
'W21','W20','V6','V33','V34','V7','V8','S20',
'V20','V19','Aa19','Aa2','Aa3','N32','F52','V35',
'H8','M41','F51','D11','K6','L6','F21','D26',
'N33','D12','S21','N5','N9','N10','Aa1','O50',
'O49','O48','X6','V9','S10','N6','N8','S11',
'N15','M42','F38','V1','Z7','Aa16','Z9','Z10']};

const uniCategories = ['A','B','C','D','E','F','G','H','I',
'K','L','M','N','NL','NU','O','P','Q','R','S','T','U','V',
'W','X','Y','Z','Aa'];
const uniShapes = Object.keys(uniGlyphsByShape);
const uniCategoriesAndShapes = uniCategories.concat(uniShapes);

const uniNameStructure = /([A-I]|[K-Z]|(?:Aa)|(?:NL)|(?:NU))([1-9](?:[0-9][0-9]?)?)([a-z]{0,2})/;
const uniMnemonicStructure = /[a-zA-Z]+/;
const uniControlStructure = /:|\*|\^st|\^sb|\^et|\^sb|\+|\(|\)/;
const uniAllStructure = /([A-I]|[K-Z]|(?:Aa)|(?:NL)|(?:NU))([1-9](?:[0-9][0-9]?)?)([a-z]{0,2})|[a-zA-Z]+|:|\*|\^st|\^sb|\^et|\^sb|\+|\(|\)/g;
const uniDamageCharBase = 0x13446;

class UniHiero {
	catToTexts;
	catToTextsExtended;
	constructor() {
		this.catToTexts = {};
		this.catToTextsExtended = {};
		this.glyphToText = {};
		this.pointToText = {};
		for (const cat of uniCategories) {
			this.catToTexts[cat] = [];
			this.catToTextsExtended[cat] = [];
		}
		for (const glyph in uniGlyphs) {
			this.glyphToText[String.fromCodePoint(uniGlyphs[glyph])] = glyph;
			this.pointToText[String.fromCodePoint(uniGlyphs[glyph])] = glyph;
			const parts = uniNameStructure.exec(glyph);
			const cat = parts[1];
			this.catToTexts[cat].push(glyph);
		}
		for (const glyph in extGlyphs) {
			this.glyphToText[String.fromCodePoint(extGlyphs[glyph])] = glyph;
			this.pointToText[String.fromCodePoint(extGlyphs[glyph])] = glyph;
			const parts = uniNameStructure.exec(glyph);
			const cat = parts[1];
			this.catToTextsExtended[cat].push(glyph);
		}
		for (const control in uniControls) {
			this.pointToText[String.fromCodePoint(uniControls[control])] = control;
		}
	}

	nameToTexts(name) {
		return Array.from(name).filter(c => c in this.glyphToText).map(c => this.glyphToText[c]);
	}

	nameToText(name) {
		return Array.from(name).map(c => c in this.pointToText ? this.pointToText[c] : '').join('');
	}

	textToName(text) {
		const matches = text.match(uniAllStructure);
		return matches ? matches.map(s =>
			s in uniGlyphs ? String.fromCodePoint(uniGlyphs[s]) :
			s in extGlyphs ? String.fromCodePoint(extGlyphs[s]) :
			s in uniControls ? String.fromCodePoint(uniControls[s]) :
			s in uniMnemonics ? String.fromCodePoint(uniGlyphs[uniMnemonics[s]]) :
			'').join('') : '';
	}

	static cmpText(name1, name2) {
		const parts1 = uniNameStructure.exec(name1);
		const parts2 = uniNameStructure.exec(name2);
		const cat1 = parts1[1];
		const cat2 = parts2[1];
		const num1 = parseInt(parts1[2]);
		const num2 = parseInt(parts2[2]);
		const suf1 = parts1[3];
		const suf2 = parts2[3];
		if (cat1 === cat2) {
			if (num1 < num2)
				return -1;
			else if (num1 > num2)
				return 1;
			else if (suf1.length < suf2.length)
				return -1;
			else if (suf1.length > suf2.length)
				return 1;
			else if (suf1 < suf2)
				return -1;
			else if (suf1 > suf2)
				return 1;
			else
				return 0;
		} else {
			return uniCategories.indexOf(cat1) - uniCategories.indexOf(cat2);
		}
	}

	static cmpTexts(names1, names2) {
		if (names1.length == 0) {
			if (names2.length == 0)
				return 0;
			else
				return -1;
		} else {
			if (names2.length == 0)
				return 1;
			else if (names1[0] < names2[0])
				return -1;
			else if (names1[0] > names2[0])
				return 1;
			else return UniHiero.cmpText(names1.slice(1), names2.slice(1));
		}
	}
}
